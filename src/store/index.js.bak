import Vue from 'vue'
import { EventEmitter } from 'events'
import { Promise } from 'es6-promise'

Vue.use(require('vue-resource'));
Vue.http.options.root = 'http://123.56.115.20';
/*Vue.http.options.emulateJSON = true;*/
/*Vue.http.options.emulateHttp = true;*/
Vue.http.headers.common['Authorization'] = 'Basic abcdefg';

const site_name = '景尚往来'
const itemsCache = Object.create(null)
const store = new EventEmitter()

export default store

/**
* Export site_name
*/
store.site_name = () => {
  return 'sitename'
}

/**
* Fetch a user data with given id.
* @param {Number} id
* @return {Promis}
*/
store.fetchUser = id => {
  return new Promise((resolve, reject) => {
    this.$http({url: 'users', method: 'GET'}).then(function (response) {
        alert( response );
      }, function (response) {
        alert("fail");
      });
    }
  )
}


/**
* Print current page
* @param {Number} id
*/
store.print = id => {
  return new Promise((resolve, reject) => {
      print("true")
    }
  )
}


